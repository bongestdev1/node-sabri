function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"2a/E":function(e,t,i){"use strict";i.r(t);var n=i("ofXK"),o=i("tyNb"),s=i("3Pt+"),r=i("fXoL"),a=i("DNVf"),l=i("Y2Dv"),c=i("HL/i"),d=i("FoTR"),u=i("tk/3"),p=i("rjiG"),m=i("RxOW"),f=i("9PSH"),h=i("ZPGB"),g=i("F8jG"),v=i("sa7d");function C(e,t){1&e&&r["\u0275\u0275element"](0,"app-loading")}var S,b,y=function(){return["/authentication/motPasseOublier"]},M=[{path:"",component:(S=function(){function e(t,i,n,o,r,a,l,c,d){_classCallCheck(this,e),this.tokenStorageService=t,this.sessionCaisseSer=i,this.fb=n,this.notificationToast=o,this.informationsService=r,this.http=a,this.router=l,this.apiAuthenticationService=c,this.fonctionPartagesService=d,this.isLoading=!1,this.erreurLogin={email:"",password:""},this.isErreurs=!1,this.isOpenModalSocietes=!1,this.isOpenModalExercices=!1,this.listeSessionCaisses=[],this.isOpenModalPopupSessionCaisseCourant=!1,this.formC=this.fb.group({email:["",[s.D.required,s.D.min(2)]],password:["",[s.D.required,s.D.min(2)]]})}return _createClass(e,[{key:"ngOnInit",value:function(){this.tokenStorageService.isConnected()&&this.router.navigate(["/dashboard/default"])}},{key:"chargerErreurs",value:function(){for(var e in this.erreurLogin)this.erreurLogin[e]="",null!=document.getElementById(e)&&document.getElementById(e).classList.remove("border-erreur");return this.isErreurs=!1,"VALID"!=this.formC.controls.email.status&&(this.erreurLogin.email="Veuillez inserer votre email !",null!=document.getElementById("email")&&document.getElementById("email").classList.add("border-erreur"),this.isErreurs=!0),this.formC.value.password.length<2&&(this.erreurLogin.password="Veuillez inserer votre mot de passe !",null!=document.getElementById("password")&&document.getElementById("password").classList.add("border-erreur"),this.isErreurs=!0),this.isErreurs}},{key:"login",value:function(){var e=this;this.chargerErreurs()?this.notificationToast.showErrorSmall("Veuillez remplir les champs obligatoires !"):this.isLoading||(this.isLoading=!0,this.apiAuthenticationService.login({email:this.formC.value.email,password:this.formC.value.password}).subscribe((function(t){e.isLoading=!1;var i=t;i.status?(e.tokenStorageService.saveToken(i.token,i.user),e.tokenStorageService.saveUser(i.user),e.openModalSocietes()):(e.isLoading=!1,e.notificationToast.showErrorSmall("Veuillez verifier vos informations !!"),e.informationsService.logout())}),(function(t){e.isLoading=!1,alert("D\xe9sole, ilya un probl\xe8me de connexion internet"),e.informationsService.logout()})))}},{key:"openModalSocietes",value:function(){this.isOpenModalSocietes=!0}},{key:"closeModalSocietes",value:function(){this.isOpenModalSocietes=!1,this.openModalExercices()}},{key:"openModalExercices",value:function(){if(this.informationsService.exerciceCurrent)try{this.getSessionCaisseUtilisateur()}catch(e){console.log(e)}else this.isOpenModalExercices=!0}},{key:"closeModalExercices",value:function(){this.isOpenModalExercices=!1;try{this.getSessionCaisseUtilisateur()}catch(e){console.log(e)}}},{key:"getSessionCaisseUtilisateur",value:function(){var e=this;this.isLoading=!0;var t=this.tokenStorageService.getUser();t.possedeCaisse?(this.informationsService.setSessionCaisseCurrent(null),this.sessionCaisseSer.utilisateur(t.id).subscribe((function(t){e.isLoading=!1;var i=t;0==i.status?e.router.navigate(["/sessionCaisses/ajout"]):(e.listeSessionCaisses=i.resultat,e.openModalPopupSessionCaisseCourant())}),(function(t){e.isLoading=!1,alert("D\xe9sole, ilya un probl\xe8me de connexion internet")}))):this.router.navigate(["/dashboard/default"])}},{key:"openModalPopupSessionCaisseCourant",value:function(){this.isOpenModalPopupSessionCaisseCourant=!0}},{key:"closeModalPopupSessionCaisseCourant",value:function(){this.isOpenModalPopupSessionCaisseCourant=!1,this.router.navigate(["/dashboard/default"])}}]),e}(),S.\u0275fac=function(e){return new(e||S)(r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](l.a),r["\u0275\u0275directiveInject"](s.f),r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](d.a),r["\u0275\u0275directiveInject"](u.a),r["\u0275\u0275directiveInject"](o.f),r["\u0275\u0275directiveInject"](p.a),r["\u0275\u0275directiveInject"](m.a))},S.\u0275cmp=r["\u0275\u0275defineComponent"]({type:S,selectors:[["app-login"]],decls:25,vars:10,consts:[["id","slider",2,"margin-top","8%","background-color","#1abc9c","height","100%"],[1,"slider-3",2,"width","fit-content","margin","0 auto"],[3,"formGroup"],["type","text","formControlName","email","id","email","placeholder","",1,"form-control"],[1,"erreur"],["type","password","formControlName","password","id","password",1,"form-control"],[4,"ngIf"],[2,"color","black",3,"routerLink"],["type","submit","id","submit","value","LOGIN",3,"click"],[3,"isOpenModalAdd","closeModalAdd"],[3,"isOpen","listeSessionCaisses","closeModal"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"section",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"form",2),r["\u0275\u0275elementStart"](3,"h1"),r["\u0275\u0275text"](4,"Connexion"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"label"),r["\u0275\u0275elementStart"](6,"b"),r["\u0275\u0275text"](7,"Nom d'utilisateur"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](8,"input",3),r["\u0275\u0275elementStart"](9,"p",4),r["\u0275\u0275text"](10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"label"),r["\u0275\u0275elementStart"](12,"b"),r["\u0275\u0275text"](13,"Mot de passe"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](14,"input",5),r["\u0275\u0275elementStart"](15,"p",4),r["\u0275\u0275text"](16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](17,C,1,0,"app-loading",6),r["\u0275\u0275elementStart"](18,"div"),r["\u0275\u0275elementStart"](19,"a",7),r["\u0275\u0275text"](20,"Mot de passe oubli\xe9 "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](21,"input",8),r["\u0275\u0275listener"]("click",(function(){return t.login()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"app-parametres-societes-modal",9),r["\u0275\u0275listener"]("closeModalAdd",(function(){return t.closeModalSocietes()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](23,"app-parametres-exercices-modal",9),r["\u0275\u0275listener"]("closeModalAdd",(function(){return t.closeModalExercices()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](24,"app-popup-session-caisse-courant",10),r["\u0275\u0275listener"]("closeModal",(function(){return t.closeModalPopupSessionCaisseCourant()})),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("formGroup",t.formC),r["\u0275\u0275advance"](8),r["\u0275\u0275textInterpolate1"]("",t.erreurLogin.email," "),r["\u0275\u0275advance"](6),r["\u0275\u0275textInterpolate1"]("",t.erreurLogin.password," "),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.isLoading),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction0"](9,y)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("isOpenModalAdd",t.isOpenModalSocietes),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("isOpenModalAdd",t.isOpenModalExercices),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("isOpen",t.isOpenModalPopupSessionCaisseCourant)("listeSessionCaisses",t.listeSessionCaisses))},directives:[s.F,s.q,s.i,s.c,s.p,s.h,n.NgIf,o.i,f.a,h.a,g.a,v.a],styles:["p[_ngcontent-%COMP%]{height:18px}label[_ngcontent-%COMP%]{font-size:14px!important;color:#000!important;padding-left:0!important;margin-bottom:0}form[_ngcontent-%COMP%]{width:100%;padding:10px 20px;border:1px solid #f1f1f1;max-width:400px;background:#fff;box-shadow:0 0 20px 0 rgba(0,0,0,.2),0 5px 5px 0 rgba(0,0,0,.24)}h1[_ngcontent-%COMP%]{text-align:center;padding-bottom:0}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}input[type=submit][_ngcontent-%COMP%]{background-color:#53af57;color:#fff;padding:10px 20px;margin:0;cursor:pointer;width:100%;border:1px solid #fff}input[type=submit][_ngcontent-%COMP%]:hover{background-color:#fff;color:#53af57;border:1px solid #53af57}"]}),S)}],x=((b=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r["\u0275\u0275defineNgModule"]({type:b}),b.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||b)},imports:[[o.j.forChild(M)],o.j]}),b);i.d(t,"LoginModule",(function(){return k}));var E,k=((E=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=r["\u0275\u0275defineNgModule"]({type:E}),E.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||E)},imports:[[n.CommonModule,x]]}),E)}}]);